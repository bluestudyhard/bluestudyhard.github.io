<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>js习题练习</title>
  </head>
  <body>
    <script>
      /*对象那一节 p29*/
      "use srtict";
      let salaries = {
        john: 100,
        ann: 160,
        fish: 130,
      };
      let sum = 0;
      for (let key in salaries) {
        sum += salaries[key];
      }
      console.log(sum);

      let bottle = {};
      function isEmpty(obj) {
        for (let key in obj) {
          return false; // 进到循环就说明有属性了。
        }
        return true;
      }
      console.log(isEmpty(bottle));
      bottle.water = "100ml";
      console.log(isEmpty(bottle));

      let munu = {
        width: 200,
        height: 300,
        title: "食补食油饼",
      };
      function multiplyNmumeric(obj) {
        for (let key in obj) {
          if (typeof obj[key] === Number) obj[key] *= 2;
        }
      }
      multiplyNmumeric(munu);
      console.log(munu);
      /* **********/
      /* 构造器和操作符new */
      let obj = {};
      function A() {
        return obj;
      }
      function B() {
        return obj;
      }
      let aa = new A(),
        bb = new B();
      console.log(aa == bb); //true;

      function Calculator() {
        this.read = function () {
          this.a = +prompt("a");
          this.b = +prompt("b");
        };
        this.sum = function () {
          return this.a + this.b;
        };
      }
      let cal = new Calculator();
      //cal.read();
      console.log(cal.sum());

      function Accumulator(svalue) {
        this.value = svalue; //赋初值 不能在赋初值时累加
        this.read = function () {
          this.value += +prompt("输入你的value"); //累加
        };
      }
      accumulator = new Accumulator(1);
      //  accumulator.read();
      // accumulator.read();
      console.log(accumulator.value);

      /*猜数字游戏*/
      function getRealRandom(max, min) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }
      let flag = 0;
      //   while (flag != 1) {
      //      let guess = +prompt("请输入数字");
      //      if (guess == getRealRandom(1, 3)) {
      //         alert("对啦");
      //         flag = 1;
      //      } else alert("猜错啦");
      //}
      /*倒计时*/
      function countDown(deadline) {
        let time = +new Date(deadline); //距离倒计时结束的时间总的毫秒数
        let begintime = +new Date(); //现在的时间总的毫秒数
        if (time < begintime) {
          console.log("倒计时结束");
          return;
        }
        let times = (time - begintime) / 1000; //总共有多少秒
        let seconds = parseInt(times % 60); //距离时间的当前秒数
        let minutes = parseInt((times / 60) % 60);
        minutes = minutes < 10 ? "0" + minutes : minutes;
        let hours = parseInt((times / 60 / 60) % 24);
        hours = hours < 10 ? "0" + hours : hours;
        let days = parseInt(times / 60 / 60 / 24);
        days = days < 10 ? "0" + days : days;
        console.log(
          "距离结束还剩" +
            days +
            "天" +
            hours +
            "时" +
            minutes +
            "分" +
            seconds +
            "秒"
        );
      }
      countDown("2022-10-1 19:24:00"); //在这里要输入标准时间格式
      date1 = new Date();
      console.log(date1);
      /*统计字符出现的次数*/
      let countStr = "wytbluelllooovvvveeeee";
      let cnt = countStr.indexOf("l"); //4
      let ans = 0;
      while (cnt !== -1) {
        console.log(cnt);
        ans++;
        cnt = countStr.indexOf("l", cnt + 1);
      }

      /*统计出现次数最多的字符*/
      let count = {}; //类比于c++的桶 一个空对象来存字符
      for (let i = 0; i < countStr.length; i++) {
        let chars = countStr.charAt(i);
        if (count[chars]) { //得到的只是属性值
          count[chars]++;
        } else {
          count[chars] = 1;
        }
      }
      console.log(count);
      /*连续替换*/
    let strr = "aaaaaabbbsss";
    while(strr.indexOf('a')!==-1){
          strr = strr.replace('a','b');
    }
    console.log(strr);
    
    </script>
  </body>
</html>
